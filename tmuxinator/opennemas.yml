# ~/.tmuxinator/opennemas.yml

name: onm
root: ~/vms/opennemas-vagrant-stack/volumes/opennemas
tmux_command: byobu
tmux_options: -f ~/.tmux.conf

# Optional tmux socket
# socket_name: opennemas

# Runs before everything. Use it to start daemons etc.
# pre: sudo /etc/rc.d/mysqld start

# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
# pre_window: rbenv shell 2.0.0-p247

# Pass command line options to tmux. Useful for specifying a different tmux.conf.
# tmux_options: -f ~/.tmux.mac.conf

pre:
    - cd ~/vms/opennemas-vagrant-stack/
    - vagrant up; vagrant up
windows:
    - vssh:
        layout: main-horizontal
        panes:
            - ssh:
                - cd ~/vms/opennemas-vagrant-stack/
                - vagrant ssh
    - task_runner:
        layout: main-horizontal
        panes:
            - test_runner:
                - ./node_modules/.bin/gulp
    - logs:
        layout: main-horizontal
        panes:
            - nginx_log:
                - cd ~/vms/opennemas-vagrant-stack/
                - vagrant ssh
                - sudo tailf /var/log/nginx/error.log
            - app_log:
                - cd ~/vms/opennemas-vagrant-stack/
                - vagrant ssh
                - tail -f tmp/logs/dev.log
